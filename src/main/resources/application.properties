spring:
application:
name: ms-error-tracker

server:
port: ${ERROR_TRACKER_PORT:8084}

kafka:
bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
consumer:
group-id: ${KAFKA_CONSUMER_GROUP:ms-error-tracker-group}
key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
value-deserializer: org.apache.kafka.common.serialization.StringDeserializer
listener:
missing-topics-fatal: false

datasource:
url: jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:error_tracker}
username: ${DB_USER:root}
password: ${DB_PASS:123456}

jpa:
hibernate:
ddl-auto: none
show-sql: false

flyway:
enabled: true
locations: classpath:db/migration

# tópicos Kafka
kafka-success-topic: ${KAFKA_SUCCESS_TOPIC:fhir-success-topic}
kafka-error-topic: ${KAFKA_ERROR_TOPIC:fhir-error-topic}

### 3. Flyway Migration: `V1__create_error_event_table.sql`. Flyway Migration: `V1__create_error_event_table.sql`

```sql
CREATE TABLE error_event (
id BIGINT AUTO_INCREMENT PRIMARY KEY,
occurred_at TIMESTAMP NOT NULL,
message VARCHAR(1000) NOT NULL,
details TEXT,
origin VARCHAR(255),
processed BOOLEAN DEFAULT FALSE
);